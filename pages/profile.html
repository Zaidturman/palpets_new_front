<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ - PalPets</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/style.css" />
    <style>
      .profile-header {
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--secondary-color)
        );
        color: white;
        padding: 4rem 0;
        margin-top: 4rem;
      }

      .profile-avatar {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        border: 4px solid white;
        margin-bottom: 1rem;
      }

      .profile-name {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
      }

      .profile-email {
        opacity: 0.9;
        margin-bottom: 1rem;
      }

      .profile-stats {
        display: flex;
        gap: 2rem;
        justify-content: center;
        margin-top: 2rem;
      }

      .profile-stat {
        text-align: center;
      }

      .profile-stat-number {
        font-size: 1.5rem;
        font-weight: 700;
      }

      .profile-stat-label {
        opacity: 0.9;
        font-size: 0.875rem;
      }

      .profile-tabs {
        display: flex;
        gap: 1rem;
        border-bottom: 2px solid #e5e7eb;
        margin-bottom: 2rem;
        padding-bottom: 1rem;
      }

      .profile-tab {
        padding: 0.5rem 1.5rem;
        border: none;
        background: none;
        font-size: 1rem;
        font-weight: 600;
        color: var(--text-light);
        cursor: pointer;
        position: relative;
        transition: color 0.3s;
      }

      .profile-tab.active {
        color: var(--primary-color);
      }

      .profile-tab.active::after {
        content: "";
        position: absolute;
        bottom: -1rem;
        left: 0;
        right: 0;
        height: 2px;
        background-color: var(--primary-color);
      }

      .profile-content {
        padding: 2rem 0;
      }

      .profile-section {
        background: white;
        border-radius: 0.5rem;
        padding: 2rem;
        box-shadow: var(--shadow);
        margin-bottom: 2rem;
      }

      .section-title {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 1.5rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .info-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
      }

      .info-item {
        margin-bottom: 1rem;
      }

      .info-label {
        color: var(--text-light);
        font-size: 0.875rem;
        margin-bottom: 0.25rem;
      }

      .info-value {
        font-weight: 500;
      }

      .pets-list {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
      }

      .pet-item {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem;
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
        transition: background-color 0.3s;
      }

      .pet-item:hover {
        background-color: #f8fafc;
      }

      .pet-avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        object-fit: cover;
      }

      .pet-info {
        flex: 1;
      }

      .pet-name {
        font-weight: 600;
        margin-bottom: 0.25rem;
      }

      .pet-detail {
        color: var(--text-light);
        font-size: 0.875rem;
      }

      .edit-btn {
        background: none;
        border: none;
        color: var(--primary-color);
        cursor: pointer;
        font-size: 0.875rem;
      }

      .edit-btn:hover {
        text-decoration: underline;
      }

      .btn-save {
        background-color: var(--primary-color);
        color: white;
        padding: 0.75rem 2rem;
        border: none;
        border-radius: 0.5rem;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 600;
        transition: background-color 0.3s;
      }

      .btn-save:hover {
        background-color: #4338ca;
      }

      .btn-cancel {
        background-color: #e5e7eb;
        color: var(--text-dark);
        padding: 0.75rem 2rem;
        border: none;
        border-radius: 0.5rem;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 600;
        margin-right: 1rem;
        transition: background-color 0.3s;
      }

      .btn-cancel:hover {
        background-color: #d1d5db;
      }

      .vaccination-card {
        background-color: #f8fafc;
        border-radius: 0.5rem;
        padding: 1rem;
        margin-bottom: 1rem;
      }

      .vaccination-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.5rem;
      }

      .vaccination-status {
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 600;
      }

      .status-completed {
        background-color: #d1fae5;
        color: #065f46;
      }

      .status-pending {
        background-color: #fee2e2;
        color: #b91c1c;
      }

      .status-upcoming {
        background-color: #fef3c7;
        color: #92400e;
      }

      .notification-settings {
        margin: 1rem 0;
      }

      .setting-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem 0;
        border-bottom: 1px solid #e5e7eb;
      }

      .setting-item:last-child {
        border-bottom: none;
      }

      /* Toggle Switch */
      .switch {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 34px;
      }

      .switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }

      .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        transition: 0.4s;
        border-radius: 34px;
      }

      .slider:before {
        position: absolute;
        content: "";
        height: 26px;
        width: 26px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: 0.4s;
        border-radius: 50%;
      }

      input:checked + .slider {
        background-color: var(--primary-color);
      }

      input:checked + .slider:before {
        transform: translateX(26px);
      }
    </style>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar">
      <div class="container">
        <a href="../index.html" class="logo">
          <img src="../images/logo.png" alt="" />
        </a>

        <div class="nav-menu">
          <a href="../index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
          <a href="pets.html">Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª</a>
          <a href="adoption.html">Ø§Ù„ØªØ¨Ù†ÙŠ</a>
          <a href="lost-found.html">Ù…ÙÙ‚ÙˆØ¯ ÙˆÙ…Ø¹Ø«ÙˆØ±</a>
          <a href="veterinary.html">Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ·Ø±ÙŠØ©</a>
          <a href="store.html">Ø§Ù„Ù…ØªØ¬Ø±</a>
        </div>

        <div class="auth-buttons">
          <a href="login.html" class="btn-login">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
        </div>

        <button class="mobile-menu-btn" onclick="toggleMobileMenu()">â˜°</button>
      </div>

      <div class="mobile-menu" id="mobileMenu">
        <a href="../index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
        <a href="pets.html">Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª</a>
        <a href="adoption.html">Ø§Ù„ØªØ¨Ù†ÙŠ</a>
        <a href="lost-found.html">Ù…ÙÙ‚ÙˆØ¯ ÙˆÙ…Ø¹Ø«ÙˆØ±</a>
        <a href="veterinary.html">Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ·Ø±ÙŠØ©</a>
        <a href="store.html">Ø§Ù„Ù…ØªØ¬Ø±</a>
        <a href="login.html">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
      </div>
    </nav>

    <!-- Profile Header -->
    <section class="profile-header">
      <div class="container" style="text-align: center">
        <img
          src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e"
          alt="Profile"
          class="profile-avatar"
        />
        <h1 class="profile-name" id="profileName">Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯</h1>
        <p class="profile-email" id="profileEmail">ahmed@example.com</p>
        <div class="profile-stats">
          <div class="profile-stat">
            <div class="profile-stat-number">3</div>
            <div class="profile-stat-label">Ø­ÙŠÙˆØ§Ù†Ø§Øª Ø£Ù„ÙŠÙØ©</div>
          </div>
          <div class="profile-stat">
            <div class="profile-stat-number">12</div>
            <div class="profile-stat-label">Ø·Ù„Ø¨Ø§Øª ØªØ¨Ù†ÙŠ</div>
          </div>
          <div class="profile-stat">
            <div class="profile-stat-number">5</div>
            <div class="profile-stat-label">Ù…Ù†ØªØ¬Ø§Øª Ù…Ø´ØªØ±Ø§Ø©</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Profile Content -->
    <section class="profile-content">
      <div class="container">
        <!-- Tabs -->
        <div class="profile-tabs">
          <button class="profile-tab active" onclick="switchProfileTab('info')">
            Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©
          </button>
          <button class="profile-tab" onclick="switchProfileTab('pets')">
            Ø­ÙŠÙˆØ§Ù†Ø§ØªÙŠ
          </button>
          <button class="profile-tab" onclick="switchProfileTab('adoptions')">
            Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªØ¨Ù†ÙŠ
          </button>
          <button
            class="profile-tab"
            onclick="switchProfileTab('vaccinations')"
          >
            Ø§Ù„ØªØ·Ø¹ÙŠÙ…Ø§Øª
          </button>
          <button class="profile-tab" onclick="switchProfileTab('settings')">
            Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
          </button>
        </div>

        <!-- Personal Info Tab -->
        <div id="infoTab" class="profile-section">
          <div class="section-title">
            <span>Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</span>
            <button class="edit-btn" onclick="editProfile()">ØªØ¹Ø¯ÙŠÙ„</button>
          </div>

          <div class="info-grid">
            <div>
              <div class="info-item">
                <div class="info-label">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</div>
                <div class="info-value" id="displayName">Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¹Ù…Ø±ÙŠ</div>
              </div>
              <div class="info-item">
                <div class="info-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</div>
                <div class="info-value" id="displayEmail">
                  ahmed@example.com
                </div>
              </div>
              <div class="info-item">
                <div class="info-label">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</div>
                <div class="info-value" id="displayPhone">+966 50 123 4567</div>
              </div>
            </div>
            <div>
              <div class="info-item">
                <div class="info-label">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</div>
                <div class="info-value" id="displayCity">Ø§Ù„Ø®Ù„ÙŠÙ„</div>
              </div>
              <div class="info-item">
                <div class="info-label">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</div>
                <div class="info-value" id="displayAddress">
                  Ø¹ÙŠÙ† Ø³Ø§Ø±Ø© 
                </div>
              </div>
              <div class="info-item">
                <div class="info-label">ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„</div>
                <div class="info-value">15 ÙŠÙ†Ø§ÙŠØ± 2026</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Edit Profile Form (Hidden by default) -->
        <div id="editProfileForm" class="profile-section" style="display: none">
          <div class="section-title">
            <span>ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</span>
          </div>

          <form onsubmit="saveProfile(event)">
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                <input
                  type="text"
                  id="editName"
                  class="form-input"
                  value="Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¹Ù…Ø±ÙŠ"
                />
              </div>
              <div class="form-group">
                <label class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                <input
                  type="email"
                  id="editEmail"
                  class="form-input"
                  value="ahmed@example.com"
                />
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label class="form-label">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                <input
                  type="tel"
                  id="editPhone"
                  class="form-input"
                  value="+970 590000000"
                />
              </div>
              <div class="form-group">
                <label class="form-label">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label>
                <input
                  type="text"
                  id="editCity"
                  class="form-input"
                  value="Ø§Ù„Ø®Ù„ÙŠÙ„"
                />
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
              <input
                type="text"
                id="editAddress"
                class="form-input"
                value="Ø¹ÙŠÙ† Ø³Ø§Ø±Ø© "
              />
            </div>

            <div style="text-align: left">
              <button type="button" class="btn-cancel" onclick="cancelEdit()">
                Ø¥Ù„ØºØ§Ø¡
              </button>
              <button type="submit" class="btn-save">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
            </div>
          </form>
        </div>

        <!-- My Pets Tab -->
        <div id="petsTab" class="profile-section" style="display: none">
          <div class="section-title">
            <span>Ø­ÙŠÙˆØ§Ù†Ø§ØªÙŠ Ø§Ù„Ø£Ù„ÙŠÙØ©</span>
            <button class="edit-btn" onclick="addNewPet()">
              + Ø¥Ø¶Ø§ÙØ© Ø­ÙŠÙˆØ§Ù†
            </button>
          </div>

          <div class="pets-list" id="petsList"></div>
        </div>

        <!-- Adoption Requests Tab -->
        <div id="adoptionsTab" class="profile-section" style="display: none">
          <div class="section-title">
            <span>Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªØ¨Ù†ÙŠ</span>
          </div>

          <div id="adoptionRequests"></div>
        </div>

        <!-- Vaccinations Tab -->
        <div id="vaccinationsTab" class="profile-section" style="display: none">
          <div class="section-title">
            <span>Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ·Ø¹ÙŠÙ…Ø§Øª</span>
          </div>

          <div id="vaccinationsList"></div>
        </div>

        <!-- Settings Tab -->
        <div id="settingsTab" class="profile-section" style="display: none">
          <div class="section-title">
            <span>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
          </div>

          <div class="notification-settings">
            <h3 style="margin-bottom: 1rem">Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</h3>

            <div class="setting-item">
              <div>
                <div style="font-weight: 600">Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ØªØ·Ø¹ÙŠÙ…Ø§Øª</div>
                <div style="color: var(--text-light); font-size: 0.875rem">
                  ØªØ°ÙƒÙŠØ± Ø¨Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„ØªØ·Ø¹ÙŠÙ…Ø§Øª
                </div>
              </div>
              <label class="switch">
                <input
                  type="checkbox"
                  checked
                  onchange="toggleNotification('vaccinations')"
                />
                <span class="slider"></span>
              </label>
            </div>

            <div class="setting-item">
              <div>
                <div style="font-weight: 600">Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø±Ø³Ø§Ø¦Ù„</div>
                <div style="color: var(--text-light); font-size: 0.875rem">
                  Ø¹Ù†Ø¯ Ø§Ø³ØªÙ„Ø§Ù… Ø±Ø³Ø§Ø¦Ù„ Ø¬Ø¯ÙŠØ¯Ø©
                </div>
              </div>
              <label class="switch">
                <input
                  type="checkbox"
                  checked
                  onchange="toggleNotification('messages')"
                />
                <span class="slider"></span>
              </label>
            </div>

            <div class="setting-item">
              <div>
                <div style="font-weight: 600">Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø±ÙˆØ¶</div>
                <div style="color: var(--text-light); font-size: 0.875rem">
                  Ø¹Ø±ÙˆØ¶ ÙˆÙ…Ù†ØªØ¬Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
                </div>
              </div>
              <label class="switch">
                <input
                  type="checkbox"
                  onchange="toggleNotification('offers')"
                />
                <span class="slider"></span>
              </label>
            </div>
          </div>

          <div style="margin-top: 2rem">
            <h3 style="margin-bottom: 1rem">Ø§Ù„Ø£Ù…Ø§Ù†</h3>
            <button
              class="btn-details"
              onclick="changePassword()"
              style="margin-left: 1rem"
            >
              ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
            </button>
            <button
              class="btn-contact"
              onclick="deleteAccount()"
              style="color: #ef4444; border-color: #ef4444"
            >
              Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨
            </button>
          </div>

          <div style="margin-top: 2rem">
            <button
              class="btn-details"
              onclick="logout()"
              style="background-color: #ef4444"
            >
              ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-grid">
          <div class="footer-section">
            <h3>Ø¹Ù† Ø§Ù„Ù…Ù†ØµØ©</h3>
            <p>
              Ù…Ù†ØµØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ù„Ø¹Ù†Ø§ÙŠØ© Ø¨Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª Ø§Ù„Ø£Ù„ÙŠÙØ©ØŒ ØªØ¬Ù…Ø¹ Ø¹Ø´Ø§Ù‚ Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§ØªØŒ
              Ø§Ù„Ù…Ø±Ø¨ÙŠÙ†ØŒ ÙˆØ§Ù„Ù…Ù„Ø§Ø¬Ø¦ ÙÙŠ Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯.
            </p>
          </div>
          <div class="footer-section">
            <h3>Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h3>
            <ul class="footer-links">
              <li><a href="../index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
              <li><a href="pets.html">Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª</a></li>
              <li><a href="adoption.html">Ø§Ù„ØªØ¨Ù†ÙŠ</a></li>
              <li><a href="lost-found.html">Ù…ÙÙ‚ÙˆØ¯ ÙˆÙ…Ø¹Ø«ÙˆØ±</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h3>Ø§Ù„Ø®Ø¯Ù…Ø§Øª</h3>
            <ul class="footer-links">
              <li><a href="veterinary.html">Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ·Ø±ÙŠØ©</a></li>
              <li><a href="store.html">Ø§Ù„Ù…ØªØ¬Ø±</a></li>
              <li><a href="#">Ø§Ù„ØªØ·Ø¹ÙŠÙ…Ø§Øª</a></li>
              <li><a href="#">Ø§Ø³ØªØ´Ø§Ø±Ø§Øª</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h3>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
            <ul class="footer-links">
              <li>ğŸ“ +972599248391</li>
              <li>âœ‰ï¸ info@PalPets.com</li>
              <li>ğŸ“ ÙÙ„Ø³Ø·ÙŠÙ†</li>
            </ul>
          </div>
        </div>
        <div class="footer-bottom">
          <p>Â© 2026 PalPets - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
        </div>
      </div>
    </footer>

    <script src="../js/main.js"></script>
    <script>
      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
      document.addEventListener("DOMContentLoaded", function () {
        const token = localStorage.getItem("token");
        if (!token) {
          window.location.href = "login.html";
          return;
        }

        // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        loadUserData();
        loadUserPets();
        loadAdoptionRequests();
        loadVaccinations();
      });

      // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
      function loadUserData() {
        const user = JSON.parse(localStorage.getItem("user") || "{}");

        if (user.name) {
          document.getElementById("profileName").textContent = user.name;
          document.getElementById("displayName").textContent = user.name;
        }

        if (user.email) {
          document.getElementById("profileEmail").textContent = user.email;
          document.getElementById("displayEmail").textContent = user.email;
        }
      }

      // ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª
      function loadUserPets() {
        const pets = [
          {
            id: 1,
            name: "Ù„ÙˆÙ„Ùˆ",
            type: "cat",
            breed: "Ø´ÙŠØ±Ø§Ø²ÙŠ",
            age: "Ø³Ù†ØªÙŠÙ†",
            image:
              "https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba",
          },
          {
            id: 2,
            name: "Ù…Ø§ÙƒØ³",
            type: "dog",
            breed: "Ø¬ÙŠØ±Ù…Ù† Ø´ÙŠØ¨Ø±Ø¯",
            age: "3 Ø³Ù†ÙˆØ§Øª",
            image:
              "https://images.unsplash.com/photo-1589941013453-ec89f33b5e95",
          },
        ];

        const petsList = document.getElementById("petsList");

        petsList.innerHTML = pets
          .map((pet) => {
            const typeName = pet.type === "dog" ? "ÙƒÙ„Ø¨" : "Ù‚Ø·Ø©";
            return `
                    <div class="pet-item">
                        <img src="${pet.image}" alt="${pet.name}" class="pet-avatar">
                        <div class="pet-info">
                            <div class="pet-name">${pet.name}</div>
                            <div class="pet-detail">${typeName} - ${pet.breed} - ${pet.age}</div>
                        </div>
                        <button class="edit-btn" onclick="editPet(${pet.id})">ØªØ¹Ø¯ÙŠÙ„</button>
                    </div>
                `;
          })
          .join("");
      }

      // ØªØ­Ù…ÙŠÙ„ Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªØ¨Ù†ÙŠ
      function loadAdoptionRequests() {
        const requests = [
          {
            id: 1,
            petName: "Ø´ÙˆÙ‚ÙŠ",
            petImage:
              "https://images.unsplash.com/photo-1544568100-847a948585b9",
            date: "2026-02-10",
            status: "pending",
            shelter: "Ù…Ù„Ø¬Ø£ Ø§Ù„Ø±ÙÙ‚ Ø¨Ø§Ù„Ø­ÙŠÙˆØ§Ù†",
          },
          {
            id: 2,
            petName: "Ù†ÙˆØ±",
            petImage:
              "https://images.unsplash.com/photo-1513360371669-4adf3dd7dff8",
            date: "2026-02-05",
            status: "approved",
            shelter: "Ø¬Ù…Ø¹ÙŠØ© Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª",
          },
          {
            id: 3,
            petName: "ØªÙˆÙÙŠ",
            petImage:
              "https://images.unsplash.com/photo-1533738363-b7f9aef128ce",
            date: "2026-01-28",
            status: "rejected",
            shelter: "Ù…Ù„Ø¬Ø£ Ø§Ù„Ø±ÙÙ‚ Ø¨Ø§Ù„Ø­ÙŠÙˆØ§Ù†",
          },
        ];

        const container = document.getElementById("adoptionRequests");

        container.innerHTML = requests
          .map((req) => {
            const statusText =
              req.status === "pending"
                ? "Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©"
                : req.status === "approved"
                  ? "ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©"
                  : "Ù…Ø±ÙÙˆØ¶";
            const statusClass =
              req.status === "pending"
                ? "status-upcoming"
                : req.status === "approved"
                  ? "status-completed"
                  : "status-pending";

            return `
                    <div class="vaccination-card">
                        <div class="vaccination-header">
                            <div style="display: flex; align-items: center; gap: 1rem;">
                                <img src="${req.petImage}" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover;">
                                <div>
                                    <h4 style="margin: 0;">${req.petName}</h4>
                                    <small>${req.shelter}</small>
                                </div>
                            </div>
                            <span class="vaccination-status ${statusClass}">${statusText}</span>
                        </div>
                        <p style="color: var(--text-light); font-size: 0.875rem;">ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…: ${req.date}</p>
                    </div>
                `;
          })
          .join("");
      }

      // ØªØ­Ù…ÙŠÙ„ Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ·Ø¹ÙŠÙ…Ø§Øª
      function loadVaccinations() {
        const vaccinations = [
          {
            petName: "Ù„ÙˆÙ„Ùˆ",
            vaccine: "ØªØ·Ø¹ÙŠÙ… Ø§Ù„Ù‚Ø·Ø· Ø§Ù„Ø³Ù†ÙˆÙŠ",
            dueDate: "2026-03-15",
            status: "upcoming",
          },
          {
            petName: "Ù…Ø§ÙƒØ³",
            vaccine: "ØªØ·Ø¹ÙŠÙ… Ø¯Ø§Ø¡ Ø§Ù„ÙƒÙ„Ø¨",
            dueDate: "2026-02-20",
            status: "pending",
          },
          {
            petName: "Ù„ÙˆÙ„Ùˆ",
            vaccine: "ØªØ·Ø¹ÙŠÙ… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ",
            dueDate: "2024-12-10",
            status: "completed",
          },
        ];

        const container = document.getElementById("vaccinationsList");

        container.innerHTML = vaccinations
          .map((vac) => {
            const statusText =
              vac.status === "completed"
                ? "ØªÙ…"
                : vac.status === "pending"
                  ? "Ù…Ø³ØªØ­Ù‚ Ù‚Ø±ÙŠØ¨Ø§Ù‹"
                  : "Ù‚Ø§Ø¯Ù…";
            const statusClass =
              vac.status === "completed"
                ? "status-completed"
                : vac.status === "pending"
                  ? "status-pending"
                  : "status-upcoming";

            return `
                    <div class="vaccination-card">
                        <div class="vaccination-header">
                            <div>
                                <h4 style="margin: 0;">${vac.petName}</h4>
                                <small>${vac.vaccine}</small>
                            </div>
                            <span class="vaccination-status ${statusClass}">${statusText}</span>
                        </div>
                        <p style="color: var(--text-light); font-size: 0.875rem;">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚: ${vac.dueDate}</p>
                    </div>
                `;
          })
          .join("");
      }

      // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
      function switchProfileTab(tab) {
        // Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
        document.getElementById("infoTab").style.display = "none";
        document.getElementById("petsTab").style.display = "none";
        document.getElementById("adoptionsTab").style.display = "none";
        document.getElementById("vaccinationsTab").style.display = "none";
        document.getElementById("settingsTab").style.display = "none";

        // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù…Ø­Ø¯Ø¯
        if (tab === "info") {
          document.getElementById("infoTab").style.display = "block";
        } else if (tab === "pets") {
          document.getElementById("petsTab").style.display = "block";
        } else if (tab === "adoptions") {
          document.getElementById("adoptionsTab").style.display = "block";
        } else if (tab === "vaccinations") {
          document.getElementById("vaccinationsTab").style.display = "block";
        } else if (tab === "settings") {
          document.getElementById("settingsTab").style.display = "block";
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù†Ø´Ø·
        document
          .querySelectorAll(".profile-tab")
          .forEach((t) => t.classList.remove("active"));
        event.target.classList.add("active");
      }

      // ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
      function editProfile() {
        document.getElementById("infoTab").style.display = "none";
        document.getElementById("editProfileForm").style.display = "block";
      }

      // Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª
      function saveProfile(event) {
        event.preventDefault();

        const name = document.getElementById("editName").value;
        const email = document.getElementById("editEmail").value;
        const phone = document.getElementById("editPhone").value;
        const city = document.getElementById("editCity").value;
        const address = document.getElementById("editAddress").value;

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
        document.getElementById("profileName").textContent = name;
        document.getElementById("profileEmail").textContent = email;
        document.getElementById("displayName").textContent = name;
        document.getElementById("displayEmail").textContent = email;
        document.getElementById("displayPhone").textContent = phone;
        document.getElementById("displayCity").textContent = city;
        document.getElementById("displayAddress").textContent = address;

        // Ø­ÙØ¸ ÙÙŠ localStorage
        const user = JSON.parse(localStorage.getItem("user") || "{}");
        user.name = name;
        user.email = email;
        localStorage.setItem("user", JSON.stringify(user));

        cancelEdit();
        showNotification("ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø¨Ù†Ø¬Ø§Ø­");
      }

      // Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
      function cancelEdit() {
        document.getElementById("infoTab").style.display = "block";
        document.getElementById("editProfileForm").style.display = "none";
      }

      // Ø¥Ø¶Ø§ÙØ© Ø­ÙŠÙˆØ§Ù† Ø¬Ø¯ÙŠØ¯
      function addNewPet() {
        alert("Ø³ÙŠØªÙ… ÙØªØ­ Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ø­ÙŠÙˆØ§Ù† Ø¬Ø¯ÙŠØ¯");
      }

      // ØªØ¹Ø¯ÙŠÙ„ Ø­ÙŠÙˆØ§Ù†
      function editPet(petId) {
        alert(`ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­ÙŠÙˆØ§Ù† Ø±Ù‚Ù… ${petId}`);
      }

      // ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
      function changePassword() {
        alert("Ø³ÙŠØªÙ… ÙØªØ­ Ù†Ø§ÙØ°Ø© ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±");
      }

      // Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨
      function deleteAccount() {
        if (
          confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡")
        ) {
          localStorage.removeItem("token");
          localStorage.removeItem("user");
          window.location.href = "../index.html";
        }
      }

      // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
      function toggleNotification(type) {
        console.log(`ØªÙ… ØªØºÙŠÙŠØ± Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ${type}`);
      }

      // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
      function logout() {
        localStorage.removeItem("token");
        localStorage.removeItem("user");
        window.location.href = "../index.html";
      }

      // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
      function showNotification(message) {
        const notification = document.createElement("div");
        notification.style.cssText = `
                position: fixed;
                top: 80px;
                left: 50%;
                transform: translateX(-50%);
                background: var(--primary-color);
                color: white;
                padding: 1rem 2rem;
                border-radius: 0.5rem;
                box-shadow: 0 4px 10px rgba(0,0,0,0.2);
                z-index: 1001;
                animation: slideDown 0.3s ease;
            `;
        notification.textContent = message;

        document.body.appendChild(notification);

        setTimeout(() => {
          notification.remove();
        }, 3000);
      }
    </script>
  </body>
</html>
